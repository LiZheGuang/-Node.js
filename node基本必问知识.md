### node准备工作


* node的特点
    * 异步IO
    * 单线程
    * 跨平台
    * 前后端编程语言的统一
    * 工具类应用
* 单线程的缺点
    * 无法利用多核CPU
    * 错误会引起整个应用的退出
    * 大量计算占用CPU无法继续调用异步IO
    * 解决方案：
        * node提供了子进程的概念
* 对于javascript自身而言，它的规范依然包若，还有以下的缺陷
    * 没有模块系统
    * 标准库较少
    * 没有标准接口
    * 缺乏包管理系统


***

#### Node 的模块实现

    Node在实现中并非完全按照实现，尽管规范中 exports,require和module 听起来十分简单，但是node在实现他们的过程中经历了。
     
* 在node中引入模块，需要经历如下3个步骤
    * 路径分析
    * 文件定位
    * 编译执行
* 在node中，模块分为两类：一类是node提供的模块，称为核心模块；
* 另一类是用户编写的模块，称为文件模块
* 简洁以下 以上的问题
    * 核心模块（node自身的）
    * 文件模块

**node 的模块会优先从缓存加载**

* * *

### 模块编译过程总结

**核心模块编译过程中经过了头尾包装的过程**
有些模块是C++来编写，有些则是由C++完成核心部分，其他部分择优javascript实现包装或向外导出。

#### 内建模块的优势
* 本身是由C/C++编写，性能上高于脚本语言
* 在文件被编译时，它被编译成二进制文件，一旦node执行，在直接被加载进内存中。

#### 前后端模块的侧重点
![12078c89e5b5ad49eced67b3452b58fe.png](evernotecid://EBC06249-D6A1-4732-BCC4-49915E428FC6/appyinxiangcom/12846741/ENResource/p188)

前后端javascript分别搁置在HTTP的两端，它们扮演的角色并不同。浏览器端的Javascript需要经历从同一个服务器端分发到多个客户端执行，而服务端的javascript则是相同的代码多次执行，前者的瓶颈在于带宽，后者的瓶颈在于CPU和内存等资源。
前者需要通过网络加载代码，后者从磁盘中加载，两者的加载不在一个数量级上。
